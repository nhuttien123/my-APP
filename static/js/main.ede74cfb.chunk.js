(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{226:function(e,t,r){"use strict";r.r(t);var n,a,s,c=r(0),i=r.n(c),o=r(24),u=r.n(o),l=r(36),j=r(25),d=r(30),b=r(23),p=r.n(b),m=r(33),h=r(56),O=r.n(h),f={getUser:function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("https://server-thelaptopworld.herokuapp.com/api/v1/tai-khoan-khach-hang/login",t).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createUser:function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("https://server-thelaptopworld.herokuapp.com/api/v1/tai-khoan-khach-hang",t).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=Object(j.b)("user/getUser",function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getUser(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),x=Object(j.c)({name:"user",initialState:{data:[],loading:null,error:null},reducers:{},extraReducers:(n={},Object(d.a)(n,g.pending,(function(e,t){e.data=[],e.loading=!0})),Object(d.a)(n,g.fulfilled,(function(e,t){var r=t.payload;e.data=r,e.loading=!1,e.error=null})),Object(d.a)(n,g.rejected,(function(e,t){e.loading=!1,e.error=t.error})),n)}).reducer,y={getProduct:function(){var e=Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat("https://fakestoreapi.com","/products")).then((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},v=Object(j.b)("product/getProduct",Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getProduct();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),w=Object(j.c)({name:"product",initialState:{data:[],loading:null,error:null},reducers:{},extraReducers:(a={},Object(d.a)(a,v.pending,(function(e,t){e.loading=!0})),Object(d.a)(a,v.fulfilled,(function(e,t){e.data=t.payload,e.loading=!1,e.error=null})),Object(d.a)(a,v.rejected,(function(e,t){e.loading=!1,e.error=t.error})),a)}).reducer,k=Object(j.b)("create_user/createUser",function(){var e=Object(m.a)(p.a.mark((function e(t,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.createUser(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),P={products:w,userLogin:x,userRegister:Object(j.c)({name:"create_user",initialState:{response:null,loading:null,error:null},reducers:{},extraReducers:(s={},Object(d.a)(s,k.pending,(function(e,t){e.response=null,e.loading=!0})),Object(d.a)(s,k.fulfilled,(function(e,t){var r=t.payload;console.log(r),e.response=r,e.loading=!1,e.error=null})),Object(d.a)(s,k.rejected,(function(e,t){e.loading=!1,e.error=t.error})),s)}).reducer},I=Object(j.a)({reducer:P}),S=r(10),T=r(228),U=r(233),R=r(32),C=r(6);var F=function(){var e=T.a.Header;return Object(C.jsxs)(e,{style:{zIndex:1,width:"100%"},children:[Object(C.jsx)("div",{className:"logo"}),Object(C.jsxs)(U.a,{theme:"dark",mode:"horizontal",children:[Object(C.jsx)(U.a.Item,{children:Object(C.jsx)(R.b,{to:"/",children:"S\u1ea3n ph\u1ea9m"})},"1"),Object(C.jsx)(U.a.Item,{children:Object(C.jsx)(R.b,{to:"/cart",children:"Gi\u1ecf h\xe0ng"})},"2")]})]})},L=(r(224),r(229)),N=r(230),q=r(231),E=r(232),_=r(124),A=r(234),J=r(38);var K=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.userLogin})),r=t.data,n=t.loading,a=r.status;Object(c.useEffect)((function(){if(a)if("success"===a){var e=r.response;localStorage.setItem("accessKey",[e.useName]),J.b.success("Login success !"),setTimeout((function(){window.location.replace("/")}),1500)}else"wrong-pass"===a?J.b.error("Password incorrect"):"not-found"===a&&J.b.error("Username incorrect")}),[a,r.response,e]);var s=JSON.parse(localStorage.getItem("rememberToken"));return Object(C.jsx)(L.a,{justify:"center",style:{paddingTop:"5rem"},children:Object(C.jsxs)(N.a,{span:8,children:[Object(C.jsx)("h1",{style:{textAlign:"center"},children:"Login"}),Object(C.jsxs)(q.a,{name:"basic",layout:"vertical",initialValues:{remember:!0},onFinish:function(t){if(console.log(t),e(g({Username:t.username,Password:t.password})),1==t.remember){var r={name:t.username,pass:t.password};localStorage.setItem("rememberToken",JSON.stringify(r))}else localStorage.removeItem("rememberToken")},autoComplete:"off",children:[Object(C.jsx)(q.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],initialValue:s?s.name:"",children:Object(C.jsx)(E.a,{})}),Object(C.jsx)(q.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],initialValue:s?s.pass:"",children:Object(C.jsx)(E.a.Password,{})}),Object(C.jsxs)(q.a.Item,{children:[n?Object(C.jsx)(_.a,{type:"primary",htmlType:"submit",disabled:!0,loading:!0,children:"Checking"}):Object(C.jsx)(_.a,{type:"primary",htmlType:"submit",children:"Submit"}),Object(C.jsx)(R.b,{to:"/register",style:{marginLeft:"1rem"},children:"Register"})]}),Object(C.jsx)(q.a.Item,{name:"remember",valuePropName:"checked",wrapperCol:{offset:8,span:16},children:Object(C.jsx)(A.a,{children:"Remember me"})})]})]})})};var V=function(){return Object(C.jsx)("h1",{children:"404 Error"})};var H=function(){var e=Object(l.b)(),t=Object(S.f)(),r=Object(l.c)((function(e){return e.userRegister})),n=r.response,a=r.loading;return Object(c.useEffect)((function(){n&&(console.log(typeof n),"object"===typeof n?(J.b.success("Register success !"),setTimeout((function(){t("/")}),1500)):"string"===typeof n&&J.b.error("Username already exist !"))}),[n,t,e]),Object(C.jsx)(L.a,{justify:"center",style:{paddingTop:"5rem"},children:Object(C.jsxs)(N.a,{span:8,children:[Object(C.jsx)("h1",{style:{textAlign:"center"},children:"Register"}),Object(C.jsxs)(q.a,{name:"basic",layout:"vertical",initialValues:{remember:!0},onFinish:function(t){t.password!=t.re_password?J.b.error("Re-password incorrect",{position:"top-center"}):Object(j.d)(e(k({TenKhachHang:t.fullname,Username:t.username,Password:t.re_password,Email:t.email,Phone:"",Avatar:""})))},autoComplete:"off",children:[Object(C.jsx)(q.a.Item,{label:"Fullname",name:"fullname",rules:[{required:!0,message:"Please input your fullname!"}],children:Object(C.jsx)(E.a,{})}),Object(C.jsx)(q.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(C.jsx)(E.a,{})}),Object(C.jsx)(q.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(C.jsx)(E.a.Password,{})}),Object(C.jsx)(q.a.Item,{label:"Re_Password",name:"re_password",rules:[{required:!0,message:"Please input your re-password!"}],children:Object(C.jsx)(E.a.Password,{})}),Object(C.jsx)(q.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!",type:"email"}],children:Object(C.jsx)(E.a,{})}),Object(C.jsxs)(q.a.Item,{children:[a?Object(C.jsx)(_.a,{type:"primary",htmlType:"submit",disabled:!0,children:"Checking"}):Object(C.jsx)(_.a,{type:"primary",htmlType:"submit",children:"Submit"}),Object(C.jsx)(R.b,{to:"/",style:{marginLeft:"1rem"},children:"back"})]})]})]})})},z=(r(225),T.a.Content);var B=function(e){var t=window.location.pathname.split("/");return localStorage.getItem("accessKey")?Object(C.jsxs)("div",{children:["login"===t[1]?null:Object(C.jsx)(F,{}),Object(C.jsx)(z,{className:"site-layout",style:{padding:"0 50px",marginTop:20},children:Object(C.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:380},children:Object(C.jsx)(S.c,{children:e.children})})})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(J.a,{position:"top-center"}),Object(C.jsxs)(S.c,{children:[Object(C.jsx)(S.a,{path:"/",element:Object(C.jsx)(K,{})}),Object(C.jsx)(S.a,{path:"/register",element:Object(C.jsx)(H,{})}),Object(C.jsx)(S.a,{path:"*",element:Object(C.jsx)(V,{})})]})]})};var D=function(){return Object(C.jsx)("h1",{children:"Cart site"})};var G=function(){var e=Object(l.b)();return Object(l.c)((function(e){return e.products})),Object(c.useEffect)((function(){Object(j.d)(e(v()))}),[e]),Object(C.jsx)("h1",{children:"Product site"})},M={Site:[{path:"/cart",element:Object(C.jsx)(D,{})},{path:"/",element:Object(C.jsx)(G,{})},{path:"*",element:Object(C.jsx)(V,{})}]};var Q=function(){return localStorage.getItem("accessKey"),Object(C.jsx)("div",{className:"App",children:Object(C.jsx)(B,{children:M.Site.map((function(e){return Object(C.jsx)(S.a,{path:e.path,element:e.element},e.path)}))})})},W=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,235)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),s(e),c(e)}))};u.a.render(Object(C.jsx)(R.a,{basename:"https://nhuttien123.github.io/my-app/",children:Object(C.jsx)(i.a.StrictMode,{children:Object(C.jsx)(l.a,{store:I,children:Object(C.jsx)(Q,{})})})}),document.getElementById("root")),W()}},[[226,1,2]]]);
//# sourceMappingURL=main.ede74cfb.chunk.js.map