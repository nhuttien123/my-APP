(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{244:function(e,t,r){"use strict";r.r(t);var n,a,c,s=r(0),i=r.n(s),o=r(28),l=r.n(o),u=r(41),j=r(25),d=r(31),m=r(27),b=r.n(m),p=r(39),O=r(60),h=r.n(O),f={getUser:function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("https://server-thelaptopworld.herokuapp.com/api/v1/tai-khoan-khach-hang/login",t).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createUser:function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("https://server-thelaptopworld.herokuapp.com/api/v1/tai-khoan-khach-hang",t).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=Object(j.b)("user/getUser",function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getUser(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),x=Object(j.c)({name:"user",initialState:{data:[],loading:null,error:null},reducers:{},extraReducers:(n={},Object(d.a)(n,g.pending,(function(e,t){e.data=[],e.loading=!0})),Object(d.a)(n,g.fulfilled,(function(e,t){var r=t.payload;e.data=r,e.loading=!1,e.error=null})),Object(d.a)(n,g.rejected,(function(e,t){e.loading=!1,e.error=t.error})),n)}).reducer,y={getProduct:function(){var e=Object(p.a)(b.a.mark((function e(t){var r,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.name,n=t.page,e.prev=1,void 0!=r){e.next=8;break}return e.next=5,h.a.get("https://619b19fb27827600174453c2.mockapi.io/products?filter=&page=".concat(n,"&limit=6")).then((function(e){return e.data}));case 5:return e.abrupt("return",e.sent);case 8:return e.next=10,h.a.get("https://619b19fb27827600174453c2.mockapi.io/products?filter=".concat(r,"&page=").concat(n,"&limit=6")).then((function(e){return e.data}));case 10:return e.abrupt("return",e.sent);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()},v=Object(j.b)("product/getProduct",function(){var e=Object(p.a)(b.a.mark((function e(t){var r,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,n=t.page,e.next=3,y.getProduct({name:r,page:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w=Object(j.c)({name:"product",initialState:{data:[],loading:null,error:null},reducers:{},extraReducers:(a={},Object(d.a)(a,v.pending,(function(e,t){e.loading=!0})),Object(d.a)(a,v.fulfilled,(function(e,t){e.data=t.payload,e.loading=!1,e.error=null})),Object(d.a)(a,v.rejected,(function(e,t){e.loading=!1,e.error=t.error})),a)}).reducer,I=Object(j.b)("create_user/createUser",function(){var e=Object(p.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.createUser(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),k={products:w,userLogin:x,userRegister:Object(j.c)({name:"create_user",initialState:{response:null,loading:null,error:null},reducers:{},extraReducers:(c={},Object(d.a)(c,I.pending,(function(e,t){e.response=null,e.loading=!0})),Object(d.a)(c,I.fulfilled,(function(e,t){var r=t.payload;console.log(r),e.response=r,e.loading=!1,e.error=null})),Object(d.a)(c,I.rejected,(function(e,t){e.loading=!1,e.error=t.error})),c)}).reducer},S=Object(j.a)({reducer:k}),P=r(136),C=r(34),N=r(13),T=r(246),L=r(253),q=r(256),U=r(252),R=r(254),E=r(38),F=r(257),J=r(258),K=r(259),z=r(6);var _=function(e){var t=e.count,r=T.a.Header,n=Object(z.jsx)(L.a,{children:Object(z.jsx)(L.a.Item,{icon:Object(z.jsx)(F.a,{}),onClick:function(){localStorage.removeItem("accessKey"),sessionStorage.removeItem("cartItem"),window.location.replace("/my-app/")},children:Object(z.jsx)(q.b,{align:"center",children:" Log-out"})},"3")});return Object(s.useEffect)((function(){}),[]),Object(z.jsx)(r,{style:{zIndex:1,width:"100%"},children:Object(z.jsxs)(L.a,{theme:"dark",mode:"horizontal",children:[Object(z.jsx)(L.a.Item,{style:{fontSize:"1.1rem"},children:Object(z.jsx)(E.b,{to:"/my-app/",children:"Home"})},"1"),Object(z.jsx)(L.a.Item,{icon:Object(z.jsx)(J.a,{style:{fontSize:"1.1rem"}}),children:Object(z.jsx)(E.b,{to:"/my-app/cart",children:Object(z.jsx)(U.a,{count:t,children:Object(z.jsx)("span",{style:{color:"white"},children:"Cart"})})})},"2"),Object(z.jsx)(R.a,{overlay:n,placement:"bottomRight",arrow:!0,children:Object(z.jsx)(L.a.Item,{icon:Object(z.jsx)(K.a,{style:{fontSize:"1.1rem"}}),children:localStorage.accessKey},"3")})]})})},A=(r(237),r(63)),H=r(42),V=r(248),B=r(250),D=r(62),G=r(255),M=r(44);var Q=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.userLogin})),r=t.data,n=t.loading,a=r.status;Object(s.useEffect)((function(){if(a)if("success"===a){var e=r.response;localStorage.setItem("accessKey",[e.useName]),M.b.success("Login success !"),setTimeout((function(){window.location.replace("/my-app/")}),1500)}else"wrong-pass"===a?M.b.error("Password incorrect"):"not-found"===a&&M.b.error("Username incorrect")}),[a,r.response,e]);var c=JSON.parse(localStorage.getItem("rememberToken"));return Object(z.jsx)(A.a,{justify:"center",style:{paddingTop:"5rem"},children:Object(z.jsxs)(H.a,{span:8,children:[Object(z.jsx)("h1",{style:{textAlign:"center"},children:"Login"}),Object(z.jsxs)(V.a,{name:"basic",layout:"vertical",initialValues:{remember:!0},onFinish:function(t){if(Object(j.d)(e(g({Username:t.username,Password:t.password}))),1==t.remember){var r={name:t.username,pass:t.password};localStorage.setItem("rememberToken",JSON.stringify(r))}else localStorage.removeItem("rememberToken")},autoComplete:"off",children:[Object(z.jsx)(V.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],initialValue:c?c.name:"",children:Object(z.jsx)(B.a,{})}),Object(z.jsx)(V.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],initialValue:c?c.pass:"",children:Object(z.jsx)(B.a.Password,{})}),Object(z.jsxs)(V.a.Item,{children:[n?Object(z.jsx)(D.a,{type:"primary",htmlType:"submit",disabled:!0,loading:!0,children:"Checking"}):Object(z.jsx)(D.a,{type:"primary",htmlType:"submit",children:"Submit"}),Object(z.jsx)(E.b,{to:"/my-app/register",style:{marginLeft:"1rem"},children:"Register"})]}),Object(z.jsx)(V.a.Item,{name:"remember",valuePropName:"checked",wrapperCol:{offset:8,span:16},children:Object(z.jsx)(G.a,{children:"Remember me"})})]})]})})};var $=function(){return Object(z.jsx)("h1",{children:"404 Error"})};var W=function(){var e=Object(u.b)(),t=Object(N.f)(),r=Object(u.c)((function(e){return e.userRegister})),n=r.response,a=r.loading;return Object(s.useEffect)((function(){n&&(console.log(typeof n),"object"===typeof n?(M.b.success("Register success !"),setTimeout((function(){t("/my-app/")}),1500)):"string"===typeof n&&M.b.error("Username already exist !"))}),[n,t]),Object(z.jsx)(A.a,{justify:"center",style:{paddingTop:"5rem"},children:Object(z.jsxs)(H.a,{span:8,children:[Object(z.jsx)("h1",{style:{textAlign:"center"},children:"Register"}),Object(z.jsxs)(V.a,{name:"basic",layout:"vertical",initialValues:{remember:!0},onFinish:function(t){t.password!=t.re_password?M.b.error("Re-password incorrect",{position:"top-center"}):Object(j.d)(e(I({TenKhachHang:t.fullname,Username:t.username,Password:t.re_password,Email:t.email,Phone:"NULL",Avatar:"NULL"})))},autoComplete:"off",children:[Object(z.jsx)(V.a.Item,{label:"Fullname",name:"fullname",rules:[{required:!0,message:"Please input your fullname!"}],children:Object(z.jsx)(B.a,{})}),Object(z.jsx)(V.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(z.jsx)(B.a,{})}),Object(z.jsx)(V.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(z.jsx)(B.a.Password,{})}),Object(z.jsx)(V.a.Item,{label:"Re_Password",name:"re_password",rules:[{required:!0,message:"Please input your re-password!"}],children:Object(z.jsx)(B.a.Password,{})}),Object(z.jsx)(V.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!",type:"email"}],children:Object(z.jsx)(B.a,{})}),Object(z.jsxs)(V.a.Item,{children:[a?Object(z.jsx)(D.a,{type:"primary",htmlType:"submit",disabled:!0,children:"Checking"}):Object(z.jsx)(D.a,{type:"primary",htmlType:"submit",children:"Submit"}),Object(z.jsx)(E.b,{to:"/my-app/",style:{marginLeft:"1rem"},children:"back"})]})]})]})})},X=r(47),Y=r(247),Z=r(251),ee=r(249);var te=function(e){var t=e.data,r=e.addCart,n=ee.a.Meta;return Object(z.jsx)(z.Fragment,{children:Object(z.jsx)(H.a,{xl:8,lg:8,md:12,sm:12,xs:24,children:Object(z.jsx)("div",{className:"site-card-border-less-wrapper",children:Object(z.jsx)(ee.a,{style:{width:"100%"},hoverable:!0,cover:Object(z.jsx)("img",{alt:"example",src:t.images,style:{width:"100%",height:"16rem"}}),actions:[Object(z.jsx)(J.a,{onClick:function(){return r(t.id)}},"setting")],children:Object(z.jsx)(n,{title:t.name,description:t.price.toLocaleString("vi-vn")+"$"})})})})})};var re=function(e,t){var r=e.addCart,n=Object(u.b)(),a=Object(N.f)(),c=Object(u.c)((function(e){return e.products})),o=c.data,l=c.loading,d=new URLSearchParams(window.location.search).get("page");d||(d=1);var m=i.a.useState(1),b=Object(C.a)(m,2),p=b[0],O=b[1],h=Object(s.useState)({Key:"",Page:Number(d)}),f=Object(C.a)(h,2),g=f[0],x=f[1];Object(s.useEffect)((function(){Object(j.d)(n(v({name:g.Key,page:g.Page})))}),[n,d,g]);var y=function(){a("/my-app?page=".concat(Number(d)-1)),x(Object(X.a)(Object(X.a)({},g),{},{Page:Number(d)-1})),d<=2&&(a("/my-app"),x(Object(X.a)(Object(X.a)({},g),{},{Page:1})))},w=function(e){a("/my-app/"),x({Page:1,Key:e})};return Object(z.jsx)(Y.a,{spinning:l,size:"middle",style:{marginTop:"5rem"},children:Object(z.jsxs)(A.a,{gutter:[16,26],children:[Object(z.jsxs)(H.a,{xl:4,style:{margin:"0 auto",position:"relative"},children:[Object(z.jsx)("h1",{children:"Filter"}),Object(z.jsxs)(Z.a.Group,{onChange:function(e){O(e.target.value)},value:p,style:{position:"sticky",top:50},children:[Object(z.jsx)(Z.a,{value:"cat",onClick:function(){return w("cat")},children:"Cat"}),Object(z.jsx)(Z.a,{value:"dog",onClick:function(){return w("dog")},children:"Dog"}),Object(z.jsx)(D.a,{onClick:function(){a("/my-app/"),x({Page:1,Key:""}),O("")},style:{marginTop:"1rem"},children:"Cancel Filter"})]})]}),Object(z.jsxs)(H.a,{xl:20,children:[Object(z.jsxs)("div",{style:{margin:"0 auto",width:"10rem",display:"block",marginBottom:"1rem"},children:[1==d?Object(z.jsx)(D.a,{onClick:y,disabled:!0,children:"Prev"}):Object(z.jsx)(D.a,{onClick:y,children:"Prev"}),0==(o||[]).length?Object(z.jsx)(D.a,{disabled:!0,children:"Next"}):Object(z.jsx)(D.a,{onClick:function(){d?(a("/my-app?page=".concat(Number(d)+1)),x(Object(X.a)(Object(X.a)({},g),{},{Page:Number(d)+1}))):(a("/my-app?page=2"),x(Object(X.a)(Object(X.a)({},g),{},{Page:2})))},children:"Next"})]}),Object(z.jsx)(A.a,{gutter:[16,16],children:0==(o||[]).length?Object(z.jsx)("div",{style:{margin:"0 auto",marginTop:"3rem"},children:Object(z.jsx)("h1",{children:"End page"})}):(o||[]).map((function(e){return Object(z.jsx)(te,{data:e,addCart:r},e.id)}))})]})]})})};var ne=function(e){var t=e.removeCartItem,r=e.plus,n=e.minus,a=Object(s.useState)([]),c=Object(C.a)(a,2),i=c[0],o=c[1];Object(s.useEffect)((function(){l()}),[]);var l=function(){var e=JSON.parse(sessionStorage.getItem("cartItem"));e&&o(e)},u=function(e){n(e),l()};return Object(z.jsx)("div",{style:{display:"flex"},children:sessionStorage.cartItem&&0!=(i||[]).length?(i||[]).map((function(e){return Object(z.jsxs)("div",{style:{marginLeft:"3rem"},children:["Id item : ",e.idItem,Object(z.jsxs)("p",{children:["Quantity: ",e.quantity]}),Object(z.jsxs)("p",{children:["Price: ",e.price*e.quantity," \u0110"]}),Object(z.jsxs)("div",{children:[1==e.quantity?Object(z.jsx)("button",{onClick:function(){return u(e.idItem)},disabled:!0,children:"-"}):Object(z.jsx)("button",{onClick:function(){return u(e.idItem)},children:"-"}),Object(z.jsx)("button",{onClick:function(){return t=e.idItem,r(t),void l();var t},children:"+"}),Object(z.jsx)("button",{onClick:function(){return r=e.idItem,t(r),void l();var r},children:"x"})]})]},e.idItem)})):Object(z.jsx)("h1",{children:"No item"})})};r(243);var ae=function(e){var t=T.a.Content,r=window.location.pathname.split("/"),n=localStorage.getItem("accessKey"),a=Object(s.useState)([]),c=Object(C.a)(a,2),i=c[0],o=c[1];Object(s.useEffect)((function(){u()}));var l=JSON.parse(sessionStorage.getItem("cartItem")),u=function(){if(l){var e=[];l.map((function(t){return e.push(t.quantity)}));var t=e.reduce((function(e,t){return e+t}));o(t)}};return n?Object(z.jsxs)("div",{children:["login"===r[1]?null:Object(z.jsx)(_,{count:i}),Object(z.jsx)(t,{className:"site-layout",style:{padding:"0 50px",marginTop:20},children:Object(z.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:380},children:Object(z.jsxs)(N.c,{children:[Object(z.jsx)(N.a,{path:"/my-app/",element:Object(z.jsx)(re,{addCart:function(e,t){var r={idItem:e,quantity:1,price:t};if(null!=l){var n=l.find((function(t){return t.idItem==e}));n?n.quantity+=1:l=[].concat(Object(P.a)(l),[r])}else l=[r];sessionStorage.setItem("cartItem",JSON.stringify(l)),u()}})}),Object(z.jsx)(N.a,{path:"/my-app/cart",element:Object(z.jsx)(ne,{removeCartItem:function(e){(l||[]).map((function(t,r){(l||[]).length<=1?(sessionStorage.removeItem("cartItem"),o(0)):t.idItem==e&&(l.splice(r,1),sessionStorage.setItem("cartItem",JSON.stringify(l)),u())}))},plus:function(e){(l||[]).map((function(t){t.idItem==e&&(t.quantity++,sessionStorage.setItem("cartItem",JSON.stringify(l)),u())}))},minus:function(e){(l||[]).map((function(t,r){t.idItem==e&&(t.quantity--,sessionStorage.setItem("cartItem",JSON.stringify(l)),u())}))}})}),Object(z.jsx)(N.a,{path:"*",element:Object(z.jsx)($,{})})]})})})]}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(M.a,{position:"top-center"}),Object(z.jsxs)(N.c,{children:[Object(z.jsx)(N.a,{path:"/my-app/",element:Object(z.jsx)(Q,{})}),Object(z.jsx)(N.a,{path:"/my-app/register",element:Object(z.jsx)(W,{})}),Object(z.jsx)(N.a,{path:"*",element:Object(z.jsx)($,{})})]})]})};var ce=function(){return Object(z.jsx)(E.a,{children:Object(z.jsx)("div",{className:"App",children:Object(z.jsx)(ae,{})})})},se=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,260)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))};l.a.render(Object(z.jsx)(u.a,{store:S,children:Object(z.jsx)(ce,{})}),document.getElementById("root")),se()}},[[244,1,2]]]);
//# sourceMappingURL=main.0c397bcb.chunk.js.map